{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _rxjs = require(\"rxjs\");\nvar _resultRx = _interopRequireDefault(require(\"./result-rx\"));\nvar _neo4jDriverCore = _interopRequireDefault(require(\"neo4j-driver-core\"));\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A reactive transaction, which provides the same functionality as {@link Transaction} but through a Reactive API.\n */\nvar RxTransaction = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   * @protected\n   * @param {Transaction} txc - The underlying transaction instance to relay requests\n   */\n  function RxTransaction(txc) {\n    (0, _classCallCheck2[\"default\"])(this, RxTransaction);\n    this._txc = txc;\n  }\n  /**\n   * Creates a reactive result that will execute the query in this transaction, with the provided parameters.\n   *\n   * @public\n   * @param {string} query - Query to be executed.\n   * @param {Object} parameters - Parameter values to use in query execution.\n   * @returns {RxResult} - A reactive result\n   */\n\n  (0, _createClass2[\"default\"])(RxTransaction, [{\n    key: \"run\",\n    value: function run(query, parameters) {\n      var _this = this;\n      return new _resultRx[\"default\"](new _rxjs.Observable(function (observer) {\n        try {\n          observer.next(_this._txc.run(query, parameters));\n          observer.complete();\n        } catch (err) {\n          observer.error(err);\n        }\n        return function () {};\n      }));\n    }\n    /**\n     *  Commits the transaction.\n     *\n     * @public\n     * @returns {Observable} - An empty observable\n     */\n  }, {\n    key: \"commit\",\n    value: function commit() {\n      var _this2 = this;\n      return new _rxjs.Observable(function (observer) {\n        _this2._txc.commit().then(function () {\n          observer.complete();\n        })[\"catch\"](function (err) {\n          return observer.error(err);\n        });\n      });\n    }\n    /**\n     *  Rolls back the transaction.\n     *\n     * @public\n     * @returns {Observable} - An empty observable\n     */\n  }, {\n    key: \"rollback\",\n    value: function rollback() {\n      var _this3 = this;\n      return new _rxjs.Observable(function (observer) {\n        _this3._txc.rollback().then(function () {\n          observer.complete();\n        })[\"catch\"](function (err) {\n          return observer.error(err);\n        });\n      });\n    }\n  }]);\n  return RxTransaction;\n}();\nexports[\"default\"] = RxTransaction;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_classCallCheck2","_createClass2","_rxjs","_resultRx","_neo4jDriverCore","RxTransaction","txc","_txc","key","run","query","parameters","_this","Observable","observer","next","complete","err","error","commit","_this2","then","rollback","_this3"],"sources":["C:/Stanford/DigitalTracesApp3/node_modules/neo4j-driver/lib/transaction-rx.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _rxjs = require(\"rxjs\");\n\nvar _resultRx = _interopRequireDefault(require(\"./result-rx\"));\n\nvar _neo4jDriverCore = _interopRequireDefault(require(\"neo4j-driver-core\"));\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A reactive transaction, which provides the same functionality as {@link Transaction} but through a Reactive API.\n */\nvar RxTransaction = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   * @protected\n   * @param {Transaction} txc - The underlying transaction instance to relay requests\n   */\n  function RxTransaction(txc) {\n    (0, _classCallCheck2[\"default\"])(this, RxTransaction);\n    this._txc = txc;\n  }\n  /**\n   * Creates a reactive result that will execute the query in this transaction, with the provided parameters.\n   *\n   * @public\n   * @param {string} query - Query to be executed.\n   * @param {Object} parameters - Parameter values to use in query execution.\n   * @returns {RxResult} - A reactive result\n   */\n\n\n  (0, _createClass2[\"default\"])(RxTransaction, [{\n    key: \"run\",\n    value: function run(query, parameters) {\n      var _this = this;\n\n      return new _resultRx[\"default\"](new _rxjs.Observable(function (observer) {\n        try {\n          observer.next(_this._txc.run(query, parameters));\n          observer.complete();\n        } catch (err) {\n          observer.error(err);\n        }\n\n        return function () {};\n      }));\n    }\n    /**\n     *  Commits the transaction.\n     *\n     * @public\n     * @returns {Observable} - An empty observable\n     */\n\n  }, {\n    key: \"commit\",\n    value: function commit() {\n      var _this2 = this;\n\n      return new _rxjs.Observable(function (observer) {\n        _this2._txc.commit().then(function () {\n          observer.complete();\n        })[\"catch\"](function (err) {\n          return observer.error(err);\n        });\n      });\n    }\n    /**\n     *  Rolls back the transaction.\n     *\n     * @public\n     * @returns {Observable} - An empty observable\n     */\n\n  }, {\n    key: \"rollback\",\n    value: function rollback() {\n      var _this3 = this;\n\n      return new _rxjs.Observable(function (observer) {\n        _this3._txc.rollback().then(function () {\n          observer.complete();\n        })[\"catch\"](function (err) {\n          return observer.error(err);\n        });\n      });\n    }\n  }]);\n  return RxTransaction;\n}();\n\nexports[\"default\"] = RxTransaction;"],"mappings":"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"},"metadata":{},"sourceType":"script"}